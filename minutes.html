<doctype html>
<html>

	<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!makes page scalable for mobile devicies>

	<head>
		<title>Minutes</title> <!the title of the page>
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<link rel="stylesheet" href="main.css"> <!links page to the css stylesheet>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> <!imports bootstrap>
		
		
		</head>
	<body>
		
		<header>
			<div class="topbar">
			<img id="navbanner" src="images/navbanner.png"> <!sets the image for the top bar>
			<nav class="navbar navbar-expand-lg navbar-dark bg-pendle"> <!cahnges the colour of navbar backgroud and text>
			<div class="container-fluid">
			<a class="navbar-brand" href="#"><img src="images/navicon.png"></a> <!image with pendle college and logo>
			<a class="navbar-brand1" href="#"><img src="images/navtitle.png"></a> <!just pendle college>
			<a class="navbar-brand2" href="#"><img src="images/navblock.png"></a> <!green box for space>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span> <!open and collapse the menue>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav me-auto mb-2 mb-lg-0"> <!navbar will become menu if the screen is medium size>
				<li class="nav-item">
				<a class="nav-link active" href="index.html">Home</a> <!link to home page>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="jcr.html">Meet the JCR</a> <!link to meet the JCR>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="sports.html">Sports Teams</a> <!link to sports teams>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="welcome.html">Welcome Week</a> <!link to welcome week>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="events.html">Events</a> <!link to events>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="brew.html">Pendle Brew</a> <!link to pendle brew>
				</li>
				<li class="nav-item">
				<a class="nav-link selected" aria-current="page" href="minutes.html">Minutes</a> <!link to minutes (current page)>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="contact.html">Contact</a> <!link to contact>
				</li>
				<li class="nav-item">
				<a class="nav-link active" href="faq.html">FAQ</a> <!link to FAQ>
				</li>
				
			</ul>
			
			</div>
		</div>
		</nav>
		</div>
	</header>
	
		<div id="banner">
			<img class = "bannerimg" src="images/tempbanner.png"> <!the banner image for this page>
		</div>
		
		<div id="containermain">
			<div id="main"> <!main content for this page goes in here>

				<div class="brew"> 
					
					<div class="headingdesc">
						<h2> Minutes</h2> <!heading minutes>
						<div class = yline> </div> <!the yellow line under the heading>
						<p> At Pendle College, transparency and communication are very important to us. That's why we provide all the minutes from our meetings below, available for download as a PDF.</p>
					</div>
				</div> 

				<div class = "eventbar"></div>

				<div class = "minuteSpinner">
					<div id="loadingSpinner" class="spinner"></div>
				</div>

				<div id = "minutes"></div>

			</div>
		</div>

		<script>
			let jsonData = document.getElementById('minutes');

			fetch('https://script.google.com/macros/s/AKfycbwcsjUvWq-U_M9GvS79FnSQG8eeJ1cTPlhJAayxs_TmSXjEg658R1pTbaHivJqaRZrKkw/exec') //fetch gets the data 
			.then(res => res.json()) //converts the json to normal javascript
			.then(data => { //parsed data
				document.getElementById('loadingSpinner').style.display = 'none';
				data.forEach(post => {
					jsonData.insertAdjacentHTML('beforeend', `
						<div class = "minute">
							<h4 class = "minutetitle">${post.title}</h4>
							<a href="${post.minutepdf}" download>
								<button class = "downloadbutton"><img class = "downloadimg" src="images/downloadbutton.PNG"><img class = "downloadi" src="images/downloadi.PNG"></button>
							</a>
						</div>
					`);
				});
			});
		</script>
		
	</body>
	
		<footer id="footer"> <!sets the footer>
			<img class = "footerimage" src="images/footerimg.png"> <!pendle college logo in the footer>
		</footer>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> <!bootstrap script makes website responsive>
	</body>
</html>
